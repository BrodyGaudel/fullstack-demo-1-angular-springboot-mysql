<div class="container mt-3">
  <ng-container *ngIf="vm | async as v; else failureOrLading">
    <div class="card shadow">
      <div class="card-header text-primary text-center">
        <b>Machines virtuelles</b>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">

            <h5 class="text-decoration-underline text-primary">Géneralité</h5>
            <div class="mb-3">
              <label class="fw-bold">Nom :</label>
              {{v.name}}
            </div>
            <div class="mb-3">
              <label class="fw-bold">Description :</label>
              {{v.description}}
            </div>
            <div class="mb-3">
              <label class="fw-bold">RAM (Go):</label>
              {{v.memory}}
            </div>
            <div class="mb-3">
              <label class="fw-bold">Date de création :</label>
              {{v.creation | date : 'dd-MM-yyyy:HH-mm-ss'}}
            </div>
            <div class="mb-3">
              <label class="fw-bold">Dernière modification :</label>
              {{v.lastModification | date : 'dd-MM-yyyy:HH-mm-ss'}}
            </div>

            <h5 class="text-decoration-underline text-primary">Système d'exploitation</h5>
            <div class="mb-3">
              <label class="fw-bold">Nom :</label>
              {{v.operatingSystem.name}}
            </div>
            <div class="mb-3">
              <label class="fw-bold">Type :</label>
              {{v.operatingSystem.type}}
            </div>
            <div class="mb-3">
              <label class="fw-bold">Poids du Système (Go) :</label>
              {{v.operatingSystem.size}}
            </div>
            <div class="btn-group" role="group" aria-label="Basic mixed styles example">
              <button type="button" class="{{buttonClassAuthorizationDelete}}" (click)="handleDeleteVm(v)">
                <i class="bi bi-trash-fill">Supprimer</i>
              </button>
              <button type="button" class="btn btn-warning" (click)="handleStatus(v)">
                <i class="bi bi-stop-fill">{{buttonMessageFlag}}</i>
              </button>
              <button type="button" class="{{buttonClassAuthorizationUpdate}}" (click)="handleUpdateVm(v)">
                <i class="bi bi-inbox-fill">Modifier</i>
              </button>
            </div>
          </div>


          <div class="col-md-6">
            <h5 class="text-decoration-underline text-primary">Disque dure</h5>
            <div class="mb-3">
              <label class="fw-bold">Stockage (Go):</label>
              {{v.hardDisk.stockage}}
            </div>
            <div class="mb-3">
              <label class="fw-bold">Type de Disque :</label>
              {{v.hardDisk.type}}
            </div>

            <h5 class="text-decoration-underline text-primary">Réseaux</h5>
            <div class="mb-3">
              <label class="fw-bold">Adresse IP :</label>
              {{v.network.ipAddress}}
            </div>
            <div class="mb-3">
              <label class="fw-bold">Type de réseaux :</label>
              {{v.network.type}}
            </div>

            <h5 class="text-decoration-underline text-primary">Processeur</h5>
            <div class="mb-3">
              <label class="fw-bold">Nombre de processeurs :</label>
              {{v.processors.numberOfProcessors}}
            </div>
            <div class="mb-3">
              <label class="fw-bold">Nombre de coeur par processeur :</label>
              {{v.processors.numberOfCorPerProcessors}}
            </div>

            <h5 class="text-decoration-underline text-primary">Status</h5>
            <div class="mb-3">
              <label class="fw-bold">{{messageFlag}}</label>
              <img class="card-img-top img-responsive" src="{{setFlag(v)}}" alt="status" style = "height :60px; width:60px">
            </div>
          </div>
        </div>


      </div>
    </div>
  </ng-container>
  <ng-template #failureOrLading>
    <ng-container *ngIf="errorMessage; else loading">
      <div class="text-danger">
        {{errorMessage}}
      </div>
    </ng-container>
    <ng-template #loading>
      <div class="progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
      </div>

      Chargement ...
    </ng-template>
  </ng-template>

</div>
